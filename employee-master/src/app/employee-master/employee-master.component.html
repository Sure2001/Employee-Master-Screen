<!-- employee-master.component.html -->
<div class="container">
  <!-- Header Buttons -->
  <div class="header-buttons">
    <button (click)="onNew()">New</button>
    <button [disabled]="!selectedEmployee" (click)="onEdit()">Edit</button>
    <button [disabled]="!selectedEmployee" (click)="onDelete()">Delete</button>
    <button (click)="onSave()">Save</button>
    <button (click)="onCancel()">Cancel</button>
    <button [disabled]="!selectedEmployee" (click)="onView()">View</button>
  </div>

  <!-- Search Section (Reactive) -->
  <form [formGroup]="searchForm" class="search-section">
    <input formControlName="searchId" placeholder="Search by ID" title="Search by Employee ID" />
    <input formControlName="searchName" placeholder="Search by Name" title="Search by Employee Name" />

    <select formControlName="searchDepartment" title="Search by Department">
      <option value="">All Departments</option>
      <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
    </select>

    <select formControlName="searchStatus" title="Search by Status">
      <option value="">All Status</option>
      <option *ngFor="let status of statuses" [value]="status">{{ status }}</option>
    </select>
  </form>

  <!-- Employee Form Section -->
  <form [formGroup]="employeeForm" class="form-section">
    <input formControlName="employeeId" placeholder="Employee ID" />
    <input formControlName="firstName" placeholder="First Name" />
    <input formControlName="lastName" placeholder="Last Name" />
    <input formControlName="email" placeholder="Email" type="email" />
    <input formControlName="phone" placeholder="Phone Number" type="tel" />

    <select formControlName="department">
      <option value="">Select Department</option>
      <option *ngFor="let dept of departments" [value]="dept">{{ dept }}</option>
    </select>

    <select formControlName="jobTitle">
      <option value="">Select Job Title</option>
      <option *ngFor="let title of jobTitles" [value]="title">{{ title }}</option>
    </select>

    <select formControlName="employmentType">
      <option value="">Select Employment Type</option>
      <option *ngFor="let type of employmentTypes" [value]="type">{{ type }}</option>
    </select>

    <select formControlName="employeeStatus">
      <option value="">Select Status</option>
      <option *ngFor="let status of statuses" [value]="status">{{ status }}</option>
    </select>

    <input formControlName="hireDate" type="date" />
  </form>

  <!-- Employee Table -->
  <table>
    <thead>
      <tr>
        <th>Select</th>
        <th>Employee ID</th>
        <th>Name</th>
        <th>Department</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let emp of filteredEmployees"
        [class.selected]="selectedEmployee === emp"
        (click)="onSelect(emp)"
      >
        <td><input type="checkbox" [checked]="selectedEmployee === emp" /></td>
        <td>{{ emp.employeeId }}</td>
        <td>{{ emp.firstName }} {{ emp.lastName }}</td>
        <td>{{ emp.department }}</td>
        <td>{{ emp.employeeStatus }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- View Popup -->
<div *ngIf="showViewPopup" class="popup">
  <div class="popup-content">
    <h3>Employee Details</h3>
    <p><strong>ID:</strong> {{ selectedEmployee?.employeeId }}</p>
    <p><strong>Name:</strong> {{ selectedEmployee?.firstName }} {{ selectedEmployee?.lastName }}</p>
    <p><strong>Email:</strong> {{ selectedEmployee?.email }}</p>
    <p><strong>Phone:</strong> {{ selectedEmployee?.phone }}</p>
    <p><strong>Department:</strong> {{ selectedEmployee?.department }}</p>
    <p><strong>Status:</strong> {{ selectedEmployee?.employeeStatus }}</p>
    <button (click)="closePopup()">Close</button>
  </div>
</div>
